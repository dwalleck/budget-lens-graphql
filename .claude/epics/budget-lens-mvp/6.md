---
name: Project Foundation & Architecture Setup
status: open
created: 2025-09-02T02:22:48Z
updated: 2025-09-02T02:30:00Z
github: https://github.com/dwalleck/budget-lens-graphql/issues/6
depends_on: []
parallel: true
conflicts_with: []
---

# Project Foundation & Architecture Setup

## Description

Establish the foundational project structure and architecture for Budget Lens MVP using .NET 10, following hexagonal architecture principles with CQRS/Event Sourcing patterns. This includes setting up the solution structure, configuring core dependencies, establishing coding standards, and implementing the basic application infrastructure.

This task creates the architectural foundation that all other components will build upon, ensuring consistent patterns and proper separation of concerns across the application.

## Acceptance Criteria

- [ ] Complete .NET 10 solution structure following hexagonal architecture principles
- [ ] Core domain infrastructure with CQRS/Event Sourcing foundation
- [ ] MediatR configuration for command/query separation
- [ ] Logging, configuration, and error handling infrastructure
- [ ] Code analysis rules and development standards configuration

## Technical Details

### Implementation Approach
- Create layered solution structure with clear boundaries between domain, application, and infrastructure
- Implement CQRS pattern using MediatR for command/query separation
- Establish event sourcing infrastructure foundation
- Configure logging with structured logging patterns
- Set up development tooling and code quality standards

### Solution Structure
```
src/
├── AppHost/                    # .NET Aspire orchestration
├── BudgetLens.Api/            # Presentation layer (GraphQL API)
├── BudgetLens.Application/     # Application layer (CQRS handlers)
├── BudgetLens.Core/           # Domain layer (aggregates, events)
└── BudgetLens.Infrastructure/  # Infrastructure layer (persistence, external services)

tests/
├── BudgetLens.Api.Tests/
├── BudgetLens.Application.Tests/
├── BudgetLens.Core.Tests/
└── BudgetLens.Infrastructure.Tests/
```

### Key Files to Create
- `BudgetLens.sln` - Solution file with all projects
- `src/AppHost/Program.cs` - Aspire orchestration configuration
- `src/BudgetLens.Core/Domain/Common/` - Domain infrastructure
- `src/BudgetLens.Application/Common/` - Application infrastructure
- `src/BudgetLens.Infrastructure/Common/` - Infrastructure base classes
- Directory.Build.props - Shared build configuration
- .editorconfig - Code formatting standards
- docker-compose.yml - Local development environment

### Core Infrastructure Components
- **Domain Layer**: Aggregate roots, domain events, value objects base classes
- **Application Layer**: Command/query handlers, validation pipeline, mapping profiles
- **Infrastructure Layer**: Repository patterns, event store foundation, external service interfaces
- **Cross-Cutting**: Logging, error handling, configuration, health checks

## Dependencies

### Task Dependencies
- None (foundational task)

### External Dependencies
- .NET 10 SDK (preview)
- Microsoft.Extensions.Hosting
- MediatR
- Serilog for structured logging
- FluentValidation for validation pipeline

## Effort Estimate

**Size:** M
**Hours:** 8-12
**Parallel:** true (foundational work that enables other tasks)

### Breakdown
- Solution and project structure setup: 2 hours
- Core domain infrastructure: 3 hours
- Application layer infrastructure: 2 hours
- MediatR and validation configuration: 2 hours
- Development tooling and standards: 1-3 hours

## Definition of Done

- [ ] **Code Complete:** Complete solution structure with all core projects, infrastructure classes, and development configuration
- [ ] **Build Success:** Solution builds successfully with no warnings, all projects properly referenced
- [ ] **Standards Applied:** Code analysis rules active, formatting standards enforced, documentation standards established
- [ ] **Ready for Development:** Other teams can begin implementing domain aggregates and features using established patterns
- [ ] **Documentation:** Architecture decision records created, development setup guide available, coding standards documented